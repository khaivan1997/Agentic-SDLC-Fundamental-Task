# Backend Implementation Plan

## Overview
The backend is a RESTful API built using Spring Boot. It provides CRUD operations for managing tasks and persists data using an in-memory H2 database.

## Technologies
- **Java**: Version 17+
- **Framework**: Spring Boot 3.x
- **Database**: H2 (In-memory)
- **Data Access**: Spring Data JPA / Hibernate
- **Build Tool**: Maven

## Database Schema (H2)
The application will use an in-memory database (`jdbc:h2:mem:taskdb`) which resets on application restart. The H2 console will be enabled for debugging.

**Table: `tasks`**
- `id` (Long, Primary Key, Auto-increment)
- `title` (String, Not Null, Max 100 chars)
- `description` (String, Max 500 chars)
- `status` (String/Enum: "TODO", "IN_PROGRESS", "DONE", Not Null)
- `due_date` (Date/LocalDate, Nullable)

## API Endpoints (`/api/tasks`)

1. **GET `/api/tasks`**
   - Retrieves all tasks.
   - Response: `200 OK` with JSON array of tasks.

2. **GET `/api/tasks/{id}`**
   - Retrieves a single task by its ID.
   - Response: `200 OK` with the task JSON object, or `404 Not Found`.

3. **POST `/api/tasks`**
   - Creates a new task.
   - Request Body: JSON with `title` (required), optional `description`, optional `status` (defaults to "TODO" if omitted), and optional `dueDate`.
   - Response: `201 Created` with the created task object.

4. **PUT `/api/tasks/{id}`**
   - Updates an existing task.
   - Request Body: JSON with updated fields.
   - Response: `200 OK` with updated task, or `404 Not Found`.

5. **DELETE `/api/tasks/{id}`**
   - Deletes a task by ID.
   - Response: `204 No Content` on success, or `404 Not Found`.

## Validation (Bean Validation)
- `title`: Required (`@NotBlank`), max 100 characters (`@Size`).
- `description`: Optional, max 500 characters (`@Size`).
- `status`: Must be a valid enum value ("TODO", "IN_PROGRESS", "DONE"). Defaults to "TODO" if not provided on creation.
- Meaningful error messages are returned for validation failures (`400 Bad Request`).

## CORS
- CORS is enabled on `/api/**` to allow frontend-backend communication during development and in the bundled WAR deployment.

